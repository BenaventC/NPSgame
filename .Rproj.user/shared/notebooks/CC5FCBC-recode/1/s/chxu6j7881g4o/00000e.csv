"0","foo1<-df %>%"
"0","  mutate(NPS=ifelse(nps<7, ""Détracteurs"", "
"0","                    ifelse(nps>6 & nps<9,""Passifs"", ""Promoteurs""))) %>% "
"0","  mutate(p=ifelse(NPS==""Promoteurs"", 1, 0),"
"0","         d=ifelse(NPS==""Détracteurs"", 1, 0))"
"0",""
"0","#calcul du score NPS"
"0","d<- mean(foo1$d, na.rm=TRUE)"
"0","p<-mean(foo1$p, na.rm=TRUE)"
"0","score_nps<- round((p-d)*100,1)"
"0",""
"0",""
"0",""
"0","g<-ggplot(foo1, aes(x=nps))+"
"0","  geom_histogram(binwidth = 1,aes(fill=NPS))+"
"0","  theme_bw()+ "
"0","  labs( title= "" Distribution des scores NPS"", subtitle = paste0(""Score NPS = "", score_nps), caption = ""n=13954"", y = ""Fréquence"")+ scale_fill_manual(values=col)+"
"0","  scale_x_discrete(name=""Note NPS"", breaks=c(""1"",""2"",""3"",""4"",""5"",""6"",""7"", ""8"", ""9"", 10),"
"0","                   limits=c(""1"",""2"",""3"",""4"",""5"",""6"",""7"", ""8"", ""9"", 10))"
"0","g  "
